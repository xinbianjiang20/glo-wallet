"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3678],{84986:function(t,e,n){n.d(e,{r:function(){return p}});var r=n(49550);const s="\x19Ethereum Signed Message:\n";var a=n(57040),i=n(39135),o=n(92106);function p(t,e){return(0,r.w)(function(t){const e="string"===typeof t?(0,o.$G)(t):"string"===typeof t.raw?t.raw:(0,o.ci)(t.raw),n=(0,o.$G)(`${s}${(0,i.d)(e)}`);return(0,a.zo)([n,e])}(t),e)}},85946:function(t,e,n){n.d(e,{Jv:function(){return p}});var r=n(45444),s=n(57040),a=n(92106),i=n(49550),o=n(54891);function p(t){const{domain:e={},message:n,primaryType:r}=t,a={EIP712Domain:(0,o.cj)({domain:e}),...t.types};(0,o.iC)({domain:e,message:n,primaryType:r,types:a});const p=["0x1901"];return e&&p.push(function({domain:t,types:e}){return y({data:t,primaryType:"EIP712Domain",types:e})}({domain:e,types:a})),"EIP712Domain"!==r&&p.push(y({data:n,primaryType:r,types:a})),(0,i.w)((0,s.zo)(p))}function y({data:t,primaryType:e,types:n}){const r=m({data:t,primaryType:e,types:n});return(0,i.w)(r)}function m({data:t,primaryType:e,types:n}){const s=[{type:"bytes32"}],a=[c({primaryType:e,types:n})];for(const r of n[e]){const[e,i]=f({types:n,name:r.name,type:r.type,value:t[r.name]});s.push(e),a.push(i)}return(0,r.E)(s,a)}function c({primaryType:t,types:e}){const n=(0,a.NC)(function({primaryType:t,types:e}){let n="";const r=u({primaryType:t,types:e});r.delete(t);const s=[t,...Array.from(r).sort()];for(const a of s)n+=`${a}(${e[a].map((({name:t,type:e})=>`${e} ${t}`)).join(",")})`;return n}({primaryType:t,types:e}));return(0,i.w)(n)}function u({primaryType:t,types:e},n=new Set){const r=t.match(/^\w*/u),s=r?.[0];if(n.has(s)||void 0===e[s])return n;n.add(s);for(const a of e[s])u({primaryType:a.type,types:e},n);return n}function f({types:t,name:e,type:n,value:s}){if(void 0!==t[n])return[{type:"bytes32"},(0,i.w)(m({data:s,primaryType:n,types:t}))];if("bytes"===n){return s=`0x${(s.length%2?"0":"")+s.slice(2)}`,[{type:"bytes32"},(0,i.w)(s)]}if("string"===n)return[{type:"bytes32"},(0,i.w)((0,a.NC)(s))];if(n.lastIndexOf("]")===n.length-1){const a=n.slice(0,n.lastIndexOf("[")),o=s.map((n=>f({name:e,type:a,types:t,value:n})));return[{type:"bytes32"},(0,i.w)((0,r.E)(o.map((([t])=>t)),o.map((([,t])=>t))))]}return[{type:n},s]}},54891:function(t,e,n){n.d(e,{cj:function(){return l},H6:function(){return d},iC:function(){return h}});var r=n(57412),s=n(26087),a=n(96070),i=n(36117);class o extends i.G{constructor({domain:t}){super(`Invalid domain "${(0,a.P)(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class p extends i.G{constructor({primaryType:t,types:e}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(e))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class y extends i.G{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}var m=n(49321),c=n(39135),u=n(92106),f=n(24409);function d(t){const{domain:e,message:n,primaryType:r,types:s}=t,i=(t,e)=>{const n={...e};for(const r of t){const{name:t,type:e}=r;"address"===e&&(n[t]=n[t].toLowerCase())}return n},o=s.EIP712Domain&&e?i(s.EIP712Domain,e):{},p=(()=>{if("EIP712Domain"!==r)return i(s[r],n)})();return(0,a.P)({domain:o,message:p,primaryType:r,types:s})}function h(t){const{domain:e,message:n,primaryType:a,types:i}=t,y=(t,e)=>{for(const n of t){const{name:t,type:a}=n,o=e[t],p=a.match(f.lh);if(p&&("number"===typeof o||"bigint"===typeof o)){const[t,e,n]=p;(0,u.eC)(o,{signed:"int"===e,size:Number.parseInt(n)/8})}if("address"===a&&"string"===typeof o&&!(0,m.U)(o))throw new s.b({address:o});const d=a.match(f.eL);if(d){const[t,e]=d;if(e&&(0,c.d)(o)!==Number.parseInt(e))throw new r.KY({expectedSize:Number.parseInt(e),givenSize:(0,c.d)(o)})}const h=i[a];h&&(g(a),y(h,o))}};if(i.EIP712Domain&&e){if("object"!==typeof e)throw new o({domain:e});y(i.EIP712Domain,e)}if("EIP712Domain"!==a){if(!i[a])throw new p({primaryType:a,types:i});y(i[a],n)}}function l({domain:t}){return["string"===typeof t?.name&&{name:"name",type:"string"},t?.version&&{name:"version",type:"string"},("number"===typeof t?.chainId||"bigint"===typeof t?.chainId)&&{name:"chainId",type:"uint256"},t?.verifyingContract&&{name:"verifyingContract",type:"address"},t?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function g(t){if("address"===t||"bool"===t||"string"===t||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new y({type:t})}}}]);