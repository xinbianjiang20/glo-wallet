"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6258],{49392:function(e,t,r){r.d(t,{Au:function(){return Lr},bG:function(){return Sr},vf:function(){return _r},xp:function(){return Ir}});var n=r(66736),o=r(85094);function i(e,...t){if(!function(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function s(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const a="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,c=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function f(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),i(e),e}class u{clone(){return this._cloneInto()}}function h(e=32){if(a&&"function"==typeof a.getRandomValues)return a.getRandomValues(new Uint8Array(e));if(a&&"function"==typeof a.randomBytes)return a.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}class d extends u{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=c(this.buffer)}update(e){s(this);const{view:t,buffer:r,blockLen:n}=this,o=(e=f(e)).length;for(let i=0;i<o;){const s=Math.min(n-this.pos,o-i);if(s!==n)r.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===n&&(this.process(t,0),this.pos=0);else{const t=c(e);for(;n<=o-i;i+=n)this.process(t,i)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){s(this),function(e,t){i(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:o}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>n-a&&(this.process(r,0),a=0);for(let i=a;i<n;i++)t[i]=0;(function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),c=n?4:0,f=n?0:4;e.setUint32(t+c,s,n),e.setUint32(t+f,a,n)})(r,n-8,BigInt(8*this.length),o),this.process(r,0);const f=c(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=u/4,d=this.get();if(h>d.length)throw new Error("_sha2: outputLen bigger than state");for(let i=0;i<h;i++)f.setUint32(4*i,d[i],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:o,destroyed:i,pos:s}=this;return e.length=n,e.pos=s,e.finished=o,e.destroyed=i,n%t&&e.buffer.set(r),e}}const l=BigInt(2**32-1),b=BigInt(32);function p(e,t=!1){return t?{h:Number(e&l),l:Number(e>>b&l)}:{h:0|Number(e>>b&l),l:0|Number(e&l)}}const g={fromBig:p,split:function(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let o=0;o<e.length;o++){const{h:i,l:s}=p(e[o],t);[r[o],n[o]]=[i,s]}return[r,n]},toBig:(e,t)=>BigInt(e>>>0)<<b|BigInt(t>>>0),shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,r)=>e<<r|t>>>32-r,rotlSL:(e,t,r)=>t<<r|e>>>32-r,rotlBH:(e,t,r)=>t<<r-32|e>>>64-r,rotlBL:(e,t,r)=>e<<r-32|t>>>64-r,add:function(e,t,r,n){const o=(t>>>0)+(n>>>0);return{h:e+r+(o/2**32|0)|0,l:0|o}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/2**32|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,o)=>t+r+n+o+(e/2**32|0)|0,add5H:(e,t,r,n,o,i)=>t+r+n+o+i+(e/2**32|0)|0,add5L:(e,t,r,n,o)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(o>>>0)},[w,y]=g.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),x=new Uint32Array(80),m=new Uint32Array(80);class B extends d{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:o,Cl:i,Dh:s,Dl:a,Eh:c,El:f,Fh:u,Fl:h,Gh:d,Gl:l,Hh:b,Hl:p}=this;return[e,t,r,n,o,i,s,a,c,f,u,h,d,l,b,p]}set(e,t,r,n,o,i,s,a,c,f,u,h,d,l,b,p){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|o,this.Cl=0|i,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|f,this.Fh=0|u,this.Fl=0|h,this.Gh=0|d,this.Gl=0|l,this.Hh=0|b,this.Hl=0|p}process(e,t){for(let g=0;g<16;g++,t+=4)x[g]=e.getUint32(t),m[g]=e.getUint32(t+=4);for(let w=16;w<80;w++){const e=0|x[w-15],t=0|m[w-15],r=g.rotrSH(e,t,1)^g.rotrSH(e,t,8)^g.shrSH(e,t,7),n=g.rotrSL(e,t,1)^g.rotrSL(e,t,8)^g.shrSL(e,t,7),o=0|x[w-2],i=0|m[w-2],s=g.rotrSH(o,i,19)^g.rotrBH(o,i,61)^g.shrSH(o,i,6),a=g.rotrSL(o,i,19)^g.rotrBL(o,i,61)^g.shrSL(o,i,6),c=g.add4L(n,a,m[w-7],m[w-16]),f=g.add4H(c,r,s,x[w-7],x[w-16]);x[w]=0|f,m[w]=0|c}let{Ah:r,Al:n,Bh:o,Bl:i,Ch:s,Cl:a,Dh:c,Dl:f,Eh:u,El:h,Fh:d,Fl:l,Gh:b,Gl:p,Hh:B,Hl:E}=this;for(let A=0;A<80;A++){const e=g.rotrSH(u,h,14)^g.rotrSH(u,h,18)^g.rotrBH(u,h,41),t=g.rotrSL(u,h,14)^g.rotrSL(u,h,18)^g.rotrBL(u,h,41),v=u&d^~u&b,S=h&l^~h&p,U=g.add5L(E,t,S,y[A],m[A]),I=g.add5H(U,B,e,v,w[A],x[A]),L=0|U,_=g.rotrSH(r,n,28)^g.rotrBH(r,n,34)^g.rotrBH(r,n,39),C=g.rotrSL(r,n,28)^g.rotrBL(r,n,34)^g.rotrBL(r,n,39),O=r&o^r&s^o&s,z=n&i^n&a^i&a;B=0|b,E=0|p,b=0|d,p=0|l,d=0|u,l=0|h,({h:u,l:h}=g.add(0|c,0|f,0|I,0|L)),c=0|s,f=0|a,s=0|o,a=0|i,o=0|r,i=0|n;const N=g.add3L(L,C,z);r=g.add3H(N,I,_,O),n=0|N}({h:r,l:n}=g.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:o,l:i}=g.add(0|this.Bh,0|this.Bl,0|o,0|i)),({h:s,l:a}=g.add(0|this.Ch,0|this.Cl,0|s,0|a)),({h:c,l:f}=g.add(0|this.Dh,0|this.Dl,0|c,0|f)),({h:u,l:h}=g.add(0|this.Eh,0|this.El,0|u,0|h)),({h:d,l:l}=g.add(0|this.Fh,0|this.Fl,0|d,0|l)),({h:b,l:p}=g.add(0|this.Gh,0|this.Gl,0|b,0|p)),({h:B,l:E}=g.add(0|this.Hh,0|this.Hl,0|B,0|E)),this.set(r,n,o,i,s,a,c,f,u,h,d,l,b,p,B,E)}roundClean(){x.fill(0),m.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const E=function(e){const t=t=>e().update(f(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}((()=>new B)),A=BigInt(0),v=BigInt(1),S=BigInt(2);function U(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function I(e){if(!U(e))throw new Error("Uint8Array expected")}function L(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)}const _=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function C(e){I(e);let t="";for(let r=0;r<e.length;r++)t+=_[e[r]];return t}function O(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?A:BigInt("0x"+e)}const z={_0:48,_9:57,A:65,F:70,a:97,f:102};function N(e){return e>=z._0&&e<=z._9?e-z._0:e>=z.A&&e<=z.F?e-(z.A-10):e>=z.a&&e<=z.f?e-(z.a-10):void 0}function H(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let o=0,i=0;o<r;o++,i+=2){const t=N(e.charCodeAt(i)),r=N(e.charCodeAt(i+1));if(void 0===t||void 0===r){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[o]=16*t+r}return n}function T(e){return I(e),O(C(Uint8Array.from(e).reverse()))}function R(e,t){return H(e.toString(16).padStart(2*t,"0"))}function P(e,t){return R(e,t).reverse()}function q(e,t,r){let n;if("string"==typeof t)try{n=H(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else{if(!U(t))throw new Error(e+" must be hex string or Uint8Array");n=Uint8Array.from(t)}const o=n.length;if("number"==typeof r&&o!==r)throw new Error(e+" of length "+r+" expected, got "+o);return n}function j(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];I(r),t+=r.length}const r=new Uint8Array(t);for(let n=0,o=0;n<e.length;n++){const t=e[n];r.set(t,o),o+=t.length}return r}const F=e=>"bigint"==typeof e&&A<=e;function k(e,t,r,n){if(!function(e,t,r){return F(e)&&F(t)&&F(r)&&t<=e&&e<r}(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}const M=e=>(S<<BigInt(e-1))-v,D={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||U(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function G(e,t,r={}){const n=(t,r,n)=>{const o=D[r];if("function"!=typeof o)throw new Error("invalid validator function");const i=e[t];if((!n||void 0!==i)&&!o(i,e))throw new Error("param "+String(t)+" is invalid. Expected "+r+", got "+i)};for(const[o,i]of Object.entries(t))n(o,i,!1);for(const[o,i]of Object.entries(r))n(o,i,!0);return e}function V(e){const t=new WeakMap;return(r,...n)=>{const o=t.get(r);if(void 0!==o)return o;const i=e(r,...n);return t.set(r,i),i}}const Z=BigInt(0),K=BigInt(1),W=BigInt(2),Y=BigInt(3),J=BigInt(4),$=BigInt(5),Q=BigInt(8);function X(e,t){const r=e%t;return r>=Z?r:t+r}function ee(e,t,r){if(t<Z)throw new Error("invalid exponent, negatives unsupported");if(r<=Z)throw new Error("invalid modulus");if(r===K)return Z;let n=K;for(;t>Z;)t&K&&(n=n*e%r),e=e*e%r,t>>=K;return n}function te(e,t,r){let n=e;for(;t-- >Z;)n*=n,n%=r;return n}function re(e,t){if(e===Z)throw new Error("invert: expected non-zero number");if(t<=Z)throw new Error("invert: expected positive modulus, got "+t);let r=X(e,t),n=t,o=Z,i=K;for(;r!==Z;){const e=n%r,t=o-i*(n/r);n=r,r=e,o=i,i=t}if(n!==K)throw new Error("invert: does not exist");return X(o,t)}function ne(e){if(e%J===Y){const t=(e+K)/J;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}if(e%Q===$){const t=(e-$)/Q;return function(e,r){const n=e.mul(r,W),o=e.pow(n,t),i=e.mul(r,o),s=e.mul(e.mul(i,W),o),a=e.mul(i,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),r))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-K)/W;let r,n,o;for(r=e-K,n=0;r%W===Z;r/=W,n++);for(o=W;o<e&&ee(o,t,e)!==e-K;o++)if(o>1e3)throw new Error("Cannot find square root: likely non-prime P");if(1===n){const t=(e+K)/J;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}const i=(r+K)/W;return function(e,s){if(e.pow(s,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=n,c=e.pow(e.mul(e.ONE,o),r),f=e.pow(s,i),u=e.pow(s,r);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let n=e.sqr(u);t<a&&!e.eql(n,e.ONE);t++)n=e.sqr(n);const r=e.pow(c,K<<BigInt(a-t-1));c=e.sqr(r),f=e.mul(f,r),u=e.mul(u,c),a=t}return f}}(e)}const oe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ie(e,t){const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function se(e,t,r=!1,n={}){if(e<=Z)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:o,nByteLength:i}=ie(e,t);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const a=Object.freeze({ORDER:e,isLE:r,BITS:o,BYTES:i,MASK:M(o),ZERO:Z,ONE:K,create:t=>X(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return Z<=t&&t<e},is0:e=>e===Z,isOdd:e=>(e&K)===K,neg:t=>X(-t,e),eql:(e,t)=>e===t,sqr:t=>X(t*t,e),add:(t,r)=>X(t+r,e),sub:(t,r)=>X(t-r,e),mul:(t,r)=>X(t*r,e),pow:(e,t)=>function(e,t,r){if(r<Z)throw new Error("invalid exponent, negatives unsupported");if(r===Z)return e.ONE;if(r===K)return t;let n=e.ONE,o=t;for(;r>Z;)r&K&&(n=e.mul(n,o)),o=e.sqr(o),r>>=K;return n}(a,e,t),div:(t,r)=>X(t*re(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>re(t,e),sqrt:n.sqrt||(t=>(s||(s=ne(e)),s(a,t))),invertBatch:e=>function(e,t){const r=new Array(t.length),n=t.reduce(((t,n,o)=>e.is0(n)?t:(r[o]=t,e.mul(t,n))),e.ONE),o=e.inv(n);return t.reduceRight(((t,n,o)=>e.is0(n)?t:(r[o]=e.mul(t,r[o]),e.mul(t,n))),o),r}(a,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?P(e,i):R(e,i),fromBytes:e=>{if(e.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+e.length);return r?T(e):function(e){return O(C(e))}(e)}});return Object.freeze(a)}const ae=BigInt(0),ce=BigInt(1);function fe(e,t){const r=t.negate();return e?r:t}function ue(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function he(e,t){ue(e,t);return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}const de=new WeakMap,le=new WeakMap;function be(e){return le.get(e)||1}function pe(e,t,r,n){if(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach(((e,r)=>{if(!(e instanceof t))throw new Error("invalid point at index "+r)}))}(r,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach(((e,r)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+r)}))}(n,t),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,i=function(e){let t;for(t=0;e>A;e>>=v,t+=1);return t}(BigInt(r.length)),s=i>12?i-3:i>4?i-2:i?2:1,a=(1<<s)-1,c=new Array(a+1).fill(o);let f=o;for(let u=Math.floor((t.BITS-1)/s)*s;u>=0;u-=s){c.fill(o);for(let t=0;t<n.length;t++){const e=n[t],o=Number(e>>BigInt(u)&BigInt(a));c[o]=c[o].add(r[t])}let e=o;for(let t=c.length-1,r=o;t>0;t--)r=r.add(c[t]),e=e.add(r);if(f=f.add(e),0!==u)for(let t=0;t<s;t++)f=f.double()}return f}function ge(e){return function(e){G(e,oe.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(e.Fp),G(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ie(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const we=BigInt(0),ye=BigInt(1),xe=BigInt(2),me=BigInt(8),Be={zip215:!0};function Ee(e){const t=function(e){const t=ge(e);return G(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:r,n:n,prehash:o,hash:i,randomBytes:s,nByteLength:a,h:c}=t,f=xe<<BigInt(8*a)-ye,u=r.create,h=se(t.n,t.nBitLength),d=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:r.sqrt(e*r.inv(t))}}catch{return{isValid:!1,value:we}}}),l=t.adjustScalarBytes||(e=>e),b=t.domain||((e,t,r)=>{if(L("phflag",r),t.length||r)throw new Error("Contexts/pre-hash are not supported");return e});function p(e,t){k("coordinate "+e,t,we,f)}function g(e){if(!(e instanceof x))throw new Error("ExtendedPoint expected")}const w=V(((e,t)=>{const{ex:n,ey:o,ez:i}=e,s=e.is0();null==t&&(t=s?me:r.inv(i));const a=u(n*t),c=u(o*t),f=u(i*t);if(s)return{x:we,y:ye};if(f!==ye)throw new Error("invZ was invalid");return{x:a,y:c}})),y=V((e=>{const{a:r,d:n}=t;if(e.is0())throw new Error("bad point: ZERO");const{ex:o,ey:i,ez:s,et:a}=e,c=u(o*o),f=u(i*i),h=u(s*s),d=u(h*h),l=u(c*r);if(u(h*u(l+f))!==u(d+u(n*u(c*f))))throw new Error("bad point: equation left != right (1)");if(u(o*i)!==u(s*a))throw new Error("bad point: equation left != right (2)");return!0}));class x{constructor(e,t,r,n){this.ex=e,this.ey=t,this.ez=r,this.et=n,p("x",e),p("y",t),p("z",r),p("t",n),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof x)throw new Error("extended point not allowed");const{x:t,y:r}=e||{};return p("x",t),p("y",r),new x(t,r,ye,u(t*r))}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.ez)));return e.map(((e,r)=>e.toAffine(t[r]))).map(x.fromAffine)}static msm(e,t){return pe(x,h,e,t)}_setWindowSize(e){E.setWindowSize(this,e)}assertValidity(){y(this)}equals(e){g(e);const{ex:t,ey:r,ez:n}=this,{ex:o,ey:i,ez:s}=e,a=u(t*s),c=u(o*n),f=u(r*s),h=u(i*n);return a===c&&f===h}is0(){return this.equals(x.ZERO)}negate(){return new x(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:e}=t,{ex:r,ey:n,ez:o}=this,i=u(r*r),s=u(n*n),a=u(xe*u(o*o)),c=u(e*i),f=r+n,h=u(u(f*f)-i-s),d=c+s,l=d-a,b=c-s,p=u(h*l),g=u(d*b),w=u(h*b),y=u(l*d);return new x(p,g,y,w)}add(e){g(e);const{a:r,d:n}=t,{ex:o,ey:i,ez:s,et:a}=this,{ex:c,ey:f,ez:h,et:d}=e;if(r===BigInt(-1)){const e=u((i-o)*(f+c)),t=u((i+o)*(f-c)),r=u(t-e);if(r===we)return this.double();const n=u(s*xe*d),l=u(a*xe*h),b=l+n,p=t+e,g=l-n,w=u(b*r),y=u(p*g),m=u(b*g),B=u(r*p);return new x(w,y,B,m)}const l=u(o*c),b=u(i*f),p=u(a*n*d),w=u(s*h),y=u((o+i)*(c+f)-l-b),m=w-p,B=w+p,E=u(b-r*l),A=u(y*m),v=u(B*E),S=u(y*E),U=u(m*B);return new x(A,v,U,S)}subtract(e){return this.add(e.negate())}wNAF(e){return E.wNAFCached(this,e,x.normalizeZ)}multiply(e){const t=e;k("scalar",t,ye,n);const{p:r,f:o}=this.wNAF(t);return x.normalizeZ([r,o])[0]}multiplyUnsafe(e,t=x.ZERO){const r=e;return k("scalar",r,we,n),r===we?B:this.is0()||r===ye?this:E.wNAFCachedUnsafe(this,r,x.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return E.unsafeLadder(this,n).is0()}toAffine(e){return w(this,e)}clearCofactor(){const{h:e}=t;return e===ye?this:this.multiplyUnsafe(e)}static fromHex(e,n=!1){const{d:o,a:i}=t,s=r.BYTES;e=q("pointHex",e,s),L("zip215",n);const a=e.slice(),c=e[s-1];a[s-1]=-129&c;const h=T(a),l=n?f:r.ORDER;k("pointHex.y",h,we,l);const b=u(h*h),p=u(b-ye),g=u(o*b-i);let{isValid:w,value:y}=d(p,g);if(!w)throw new Error("Point.fromHex: invalid y coordinate");const m=(y&ye)===ye,B=0!==(128&c);if(!n&&y===we&&B)throw new Error("Point.fromHex: x=0 and x_0=1");return B!==m&&(y=u(-y)),x.fromAffine({x:y,y:h})}static fromPrivateKey(e){return S(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),n=P(t,r.BYTES);return n[n.length-1]|=e&ye?128:0,n}toHex(){return C(this.toRawBytes())}}x.BASE=new x(t.Gx,t.Gy,ye,u(t.Gx*t.Gy)),x.ZERO=new x(we,ye,ye,we);const{BASE:m,ZERO:B}=x,E=function(e,t){return{constTimeNegate:fe,hasPrecomputes:e=>1!==be(e),unsafeLadder(t,r,n=e.ZERO){let o=t;for(;r>ae;)r&ce&&(n=n.add(o)),o=o.double(),r>>=ce;return n},precomputeWindow(e,r){const{windows:n,windowSize:o}=he(r,t),i=[];let s=e,a=s;for(let t=0;t<n;t++){a=s,i.push(a);for(let e=1;e<o;e++)a=a.add(s),i.push(a);s=a.double()}return i},wNAF(r,n,o){const{windows:i,windowSize:s}=he(r,t);let a=e.ZERO,c=e.BASE;const f=BigInt(2**r-1),u=2**r,h=BigInt(r);for(let e=0;e<i;e++){const t=e*s;let r=Number(o&f);o>>=h,r>s&&(r-=u,o+=ce);const i=t,d=t+Math.abs(r)-1,l=e%2!==0,b=r<0;0===r?c=c.add(fe(l,n[i])):a=a.add(fe(b,n[d]))}return{p:a,f:c}},wNAFUnsafe(r,n,o,i=e.ZERO){const{windows:s,windowSize:a}=he(r,t),c=BigInt(2**r-1),f=2**r,u=BigInt(r);for(let e=0;e<s;e++){const t=e*a;if(o===ae)break;let r=Number(o&c);if(o>>=u,r>a&&(r-=f,o+=ce),0===r)continue;let s=n[t+Math.abs(r)-1];r<0&&(s=s.negate()),i=i.add(s)}return i},getPrecomputes(e,t,r){let n=de.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&de.set(t,r(n))),n},wNAFCached(e,t,r){const n=be(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){const o=be(e);return 1===o?this.unsafeLadder(e,t,n):this.wNAFUnsafe(o,this.getPrecomputes(o,e,r),t,n)},setWindowSize(e,r){ue(r,t),le.set(e,r),de.delete(e)}}}(x,8*a);function A(e){return X(e,n)}function v(e){return A(T(e))}function S(e){const t=r.BYTES;e=q("private key",e,t);const n=q("hashed private key",i(e),2*t),o=l(n.slice(0,t)),s=n.slice(t,2*t),a=v(o),c=m.multiply(a),f=c.toRawBytes();return{head:o,prefix:s,scalar:a,point:c,pointBytes:f}}function U(e=new Uint8Array,...t){const r=j(...t);return v(i(b(r,q("context",e),!!o)))}const I=Be;return m._setWindowSize(8),{CURVE:t,getPublicKey:function(e){return S(e).pointBytes},sign:function(e,t,i={}){e=q("message",e),o&&(e=o(e));const{prefix:s,scalar:a,pointBytes:c}=S(t),f=U(i.context,s,e),u=m.multiply(f).toRawBytes(),h=A(f+U(i.context,u,c,e)*a);return k("signature.s",h,we,n),q("result",j(u,P(h,r.BYTES)),2*r.BYTES)},verify:function(e,t,n,i=I){const{context:s,zip215:a}=i,c=r.BYTES;e=q("signature",e,2*c),t=q("message",t),n=q("publicKey",n,c),void 0!==a&&L("zip215",a),o&&(t=o(t));const f=T(e.slice(c,2*c));let u,h,d;try{u=x.fromHex(n,a),h=x.fromHex(e.slice(0,c),a),d=m.multiplyUnsafe(f)}catch{return!1}if(!a&&u.isSmallOrder())return!1;const l=U(s,h.toRawBytes(),u.toRawBytes(),t);return h.add(u.multiplyUnsafe(l)).subtract(d).clearCofactor().equals(x.ZERO)},ExtendedPoint:x,utils:{getExtendedPublicKey:S,randomPrivateKey:()=>s(r.BYTES),precompute:(e=8,t=x.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}BigInt(0),BigInt(1);const Ae=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),ve=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Se=BigInt(1),Ue=BigInt(2);BigInt(3);const Ie=BigInt(5),Le=BigInt(8);function _e(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function Ce(e,t){const r=Ae,n=X(t*t*t,r),o=function(e){const t=BigInt(10),r=BigInt(20),n=BigInt(40),o=BigInt(80),i=Ae,s=e*e%i*e%i,a=te(s,Ue,i)*s%i,c=te(a,Se,i)*e%i,f=te(c,Ie,i)*c%i,u=te(f,t,i)*f%i,h=te(u,r,i)*u%i,d=te(h,n,i)*h%i,l=te(d,o,i)*d%i,b=te(l,o,i)*d%i,p=te(b,t,i)*f%i;return{pow_p_5_8:te(p,Ue,i)*e%i,b2:s}}(e*X(n*n*t,r)).pow_p_5_8;let i=X(e*n*o,r);const s=X(t*i*i,r),a=i,c=X(i*ve,r),f=s===e,u=s===X(-e,r),h=s===X(-e*ve,r);return f&&(i=a),(u||h)&&(i=c),((e,t)=>(X(e,t)&K)===K)(i,r)&&(i=X(-i,r)),{isValid:f||u,value:i}}const Oe=se(Ae,void 0,!0),ze=Ee({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Oe,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Le,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:E,randomBytes:h,adjustScalarBytes:_e,uvRatio:Ce}),Ne="EdDSA",He="JWT",Te=".",Re="base64url",Pe="utf8",qe="utf8",je=":",Fe="did",ke="key",Me="base58btc",De="z",Ge="K36",Ve=32;function Ze(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function Ke(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?Ze(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function We(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const r=Ke(t);let n=0;for(const o of e)r.set(o,n),n+=o.length;return Ze(r)}var Ye=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),s=i.charCodeAt(0);if(255!==r[s])throw new TypeError(i+" is ambiguous");r[s]=o}var a=e.length,c=e.charAt(0),f=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,o=0;e[t]===c;)n++,t++;for(var i=(e.length-t)*f+1>>>0,s=new Uint8Array(i);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var h=0,d=i-1;(0!==u||h<o)&&-1!==d;d--,h++)u+=a*s[d]>>>0,s[d]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");o=h,t++}if(" "!==e[t]){for(var l=i-o;l!==i&&0===s[l];)l++;for(var b=new Uint8Array(n+(i-l)),p=n;l!==i;)b[p++]=s[l++];return b}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,o=0,i=t.length;o!==i&&0===t[o];)o++,r++;for(var s=(i-o)*u+1>>>0,f=new Uint8Array(s);o!==i;){for(var h=t[o],d=0,l=s-1;(0!==h||d<n)&&-1!==l;l--,d++)h+=256*f[l]>>>0,f[l]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");n=d,o++}for(var b=s-n;b!==s&&0===f[b];)b++;for(var p=c.repeat(r);b<s;++b)p+=e.charAt(f[b]);return p},decodeUnsafe:h,decode:function(e){var r=h(e);if(r)return r;throw new Error(`Non-${t} character`)}}};const Je=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class $e{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Qe{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return et(this,e)}}class Xe{constructor(e){this.decoders=e}or(e){return et(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const et=(e,t)=>new Xe({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class tt{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new $e(e,t,r),this.decoder=new Qe(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const rt=({name:e,prefix:t,encode:r,decode:n})=>new tt(e,t,r,n),nt=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:o}=Ye(r,t);return rt({prefix:e,name:t,encode:n,decode:e=>Je(o(e))})},ot=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>rt({prefix:t,name:e,encode:e=>((e,t,r)=>{const n="="===t[t.length-1],o=(1<<r)-1;let i="",s=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],s+=8;s>r;)s-=r,i+=t[o&a>>s];if(s&&(i+=t[o&a<<r-s]),n)for(;i.length*r&7;)i+="=";return i})(e,n,r),decode:t=>((e,t,r,n)=>{const o={};for(let u=0;u<t.length;++u)o[t[u]]=u;let i=e.length;for(;"="===e[i-1];)--i;const s=new Uint8Array(i*r/8|0);let a=0,c=0,f=0;for(let u=0;u<i;++u){const t=o[e[u]];if(void 0===t)throw new SyntaxError(`Non-${n} character`);c=c<<r|t,a+=r,a>=8&&(a-=8,s[f++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,n,r,e)}),it=rt({prefix:"\0",name:"identity",encode:e=>(e=>(new TextDecoder).decode(e))(e),decode:e=>(e=>(new TextEncoder).encode(e))(e)});var st=Object.freeze({__proto__:null,identity:it});const at=ot({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var ct=Object.freeze({__proto__:null,base2:at});const ft=ot({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var ut=Object.freeze({__proto__:null,base8:ft});const ht=nt({prefix:"9",name:"base10",alphabet:"0123456789"});var dt=Object.freeze({__proto__:null,base10:ht});const lt=ot({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),bt=ot({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var pt=Object.freeze({__proto__:null,base16:lt,base16upper:bt});const gt=ot({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),wt=ot({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),yt=ot({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),xt=ot({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),mt=ot({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Bt=ot({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Et=ot({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),At=ot({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),vt=ot({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var St=Object.freeze({__proto__:null,base32:gt,base32upper:wt,base32pad:yt,base32padupper:xt,base32hex:mt,base32hexupper:Bt,base32hexpad:Et,base32hexpadupper:At,base32z:vt});const Ut=nt({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),It=nt({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Lt=Object.freeze({__proto__:null,base36:Ut,base36upper:It});const _t=nt({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Ct=nt({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Ot=Object.freeze({__proto__:null,base58btc:_t,base58flickr:Ct});const zt=ot({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Nt=ot({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Ht=ot({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Tt=ot({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Rt=Object.freeze({__proto__:null,base64:zt,base64pad:Nt,base64url:Ht,base64urlpad:Tt});const Pt=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),qt=Pt.reduce(((e,t,r)=>(e[r]=t,e)),[]),jt=Pt.reduce(((e,t,r)=>(e[t.codePointAt(0)]=r,e)),[]);const Ft=rt({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=qt[t]),"")},decode:function(e){const t=[];for(const r of e){const e=jt[r.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}});var kt=Object.freeze({__proto__:null,base256emoji:Ft}),Mt=function e(t,r,n){r=r||[];for(var o=n=n||0;t>=Vt;)r[n++]=255&t|Dt,t/=128;for(;t&Gt;)r[n++]=255&t|Dt,t>>>=7;return r[n]=0|t,e.bytes=n-o+1,r},Dt=128,Gt=-128,Vt=Math.pow(2,31);var Zt=function e(t,r){var n,o=0,i=0,s=r=r||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");n=t[s++],o+=i<28?(n&Wt)<<i:(n&Wt)*Math.pow(2,i),i+=7}while(n>=Kt);return e.bytes=s-r,o},Kt=128,Wt=127;var Yt=Math.pow(2,7),Jt=Math.pow(2,14),$t=Math.pow(2,21),Qt=Math.pow(2,28),Xt=Math.pow(2,35),er=Math.pow(2,42),tr=Math.pow(2,49),rr=Math.pow(2,56),nr=Math.pow(2,63),or={encode:Mt,decode:Zt,encodingLength:function(e){return e<Yt?1:e<Jt?2:e<$t?3:e<Qt?4:e<Xt?5:e<er?6:e<tr?7:e<rr?8:e<nr?9:10}};const ir=(e,t,r=0)=>(or.encode(e,t,r),t),sr=e=>or.encodingLength(e),ar=(e,t)=>{const r=t.byteLength,n=sr(e),o=n+sr(r),i=new Uint8Array(o+r);return ir(e,i,0),ir(r,i,n),i.set(t,o),new cr(e,r,t,i)};class cr{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}const fr=({name:e,code:t,encode:r})=>new ur(e,t,r);class ur{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?ar(this.code,t):t.then((e=>ar(this.code,e)))}throw Error("Unknown type, must be binary type")}}const hr=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),dr=fr({name:"sha2-256",code:18,encode:hr("SHA-256")}),lr=fr({name:"sha2-512",code:19,encode:hr("SHA-512")});Object.freeze({__proto__:null,sha256:dr,sha512:lr});const br=Je,pr={code:0,name:"identity",encode:br,digest:e=>ar(0,br(e))};Object.freeze({__proto__:null,identity:pr});new TextEncoder,new TextDecoder;const gr={...st,...ct,...ut,...dt,...pt,...St,...Lt,...Ot,...Rt,...kt};function wr(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const yr=wr("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),xr=wr("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{const t=Ke((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),mr={utf8:yr,"utf-8":yr,hex:gr.base16,latin1:xr,ascii:xr,binary:xr,...gr};function Br(e,t="utf8"){const r=mr[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}function Er(e,t="utf8"){const r=mr[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${e}`):Ze(globalThis.Buffer.from(e,"utf-8"))}function Ar(e){return(0,o.D)(Br(Er(e,Re),Pe))}function vr(e){return Br(Er((0,o.u)(e),Pe),Re)}function Sr(e){const t=Er(Ge,Me),r=De+Br(We([t,e]),Me);return[Fe,ke,r].join(je)}function Ur(e){return Br(e,Re)}function Ir(e){const t=e.split(Te),r=Ar(t[0]),n=Ar(t[1]),o=function(e){return Er(e,Re)}(t[2]);return{header:r,payload:n,signature:o,data:Er(t.slice(0,2).join(Te),qe)}}function Lr(e=h(Ve)){const t=ze.getPublicKey(e);return{secretKey:We([e,t]),publicKey:t}}async function _r(e,t,r,o,i=(0,n.fromMiliseconds)(Date.now())){const s={alg:Ne,typ:He},a={iss:Sr(o.publicKey),sub:e,aud:t,iat:i,exp:i+r},c=function(e){return Er([vr(e.header),vr(e.payload)].join(Te),qe)}({header:s,payload:a});return function(e){return[vr(e.header),vr(e.payload),Ur(e.signature)].join(Te)}({header:s,payload:a,signature:ze.sign(c,o.secretKey.slice(0,32))})}},57026:function(e){e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}}]);